import{_ as S,r as o,o as U,d as n,j as _,w as h,e,n as b,B as m,m as V,k as P,c,h as B,t as v,v as w,F as k,f as C,p as D,q as I,s as N}from"./index-Wf_wPvl6.js";import{_ as M,a as q,b as E,c as F}from"./attach-lmn-EXm-.js";import{T as f,_ as L,S as A}from"./SideSectionTop-AUwRLSmN.js";import{U as H}from"./UserService-XJjYQyDy.js";const l=u=>(D("data-v-e16a22e7"),u=u(),I(),u),R={class:"flex w-full"},W={class:"flex flex-col p-2 xl:p-5 gap-4"},$={class:"flex flex-col gap-3"},z=l(()=>e("label",{class:"text-pink-600 text-l xl:text-lg justify-center"}," Requester ",-1)),G={class:"border bg-white flex justify-between w-40 lg:w-full py-1 lg:py-4 lg:px-2.5 rounded-lg border-solid border-black border-opacity-20"},J={class:"flex flex-col gap-3"},K=l(()=>e("label",{class:"text-pink-600 text-l xl:text-lg justify-center"}," Categoria ",-1)),O=l(()=>e("option",{disabled:"",selected:""},"Escolha uma categoria",-1)),Q=["value"],X={class:"flex flex-col gap-3"},Y=l(()=>e("label",{class:"text-pink-600 text-l xl:text-lg justify-center"}," Urgência ",-1)),Z=l(()=>e("option",{disabled:"",selected:""},"Escolha a urgência",-1)),ee=["value"],te={class:"flex flex-col w-full lg:w-[80%]"},se={class:"text-purple flex sm:text-2xl text-xl h-[9vh] whitespace-nowrap justify-between p-3 border-b-purple border-b-opacity-30 border-b border-solid items-start"},ae=l(()=>e("span",{class:"text-purple flex sm:text-2xl text-xl h-[50vh] whitespace-nowrap justify-between p-3 border-b-purple border-b-opacity-30 border-b border-solid items-start"},null,-1)),oe={class:"text-purple flex flex-col gap-4 sm:text-2xl text-xl h-[30vh] whitespace-nowrap justify-between p-3 items-start"},le=l(()=>e("div",{class:"flex gap-2"},[e("img",{src:M}),e("span",null,"Description of your problem")],-1)),re={class:"w-full"},ie={class:"w-full border border-solid border-black border-opacity-20 rounded-lg bg-grey"},de={class:"px-4 py-2 bg-grey rounded-t-lg"},ne={class:"flex items-center justify-between px-3 py-2 border-t"},ce=P('<div class="flex ps-0 space-x-1 rtl:space-x-reverse sm:ps-2" data-v-e16a22e7><button type="button" class="inline-flex justify-center items-center p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100" data-v-e16a22e7><img src="'+q+'" data-v-e16a22e7></button><button type="button" class="inline-flex justify-center items-center p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100" data-v-e16a22e7><img src="'+E+'" data-v-e16a22e7></button><button type="button" class="inline-flex justify-center items-center p-2 text-gray-500 rounded cursor-pointer hover:text-gray-900 hover:bg-gray-100" data-v-e16a22e7><img src="'+F+'" data-v-e16a22e7></button></div>',1),ue=["disabled"],pe={__name:"CreateTicketPage",setup(u){const r=o({categories:[],selectedCategory:1}),i=o({priorities:[],selectedPriority:1}),j=o(!0),y=o({}),g=o(""),x=o(""),p=o(!1),d=o({title:"",description:"",priority:0,category:0}),T=async()=>{d.value.title=x.value,d.value.description=g.value,d.value.priority=i.value.selectedPriority,d.value.category=r.value.selectedCategory;try{p.value=!0;const a=await f.createTicket(d.value);p.value=!1,await N.push({name:"ticketDetails",params:{ticketId:a.data.id}})}catch(a){console.log(a),p.value=!1}};return U(async()=>{try{r.value.categories=(await f.getCategories()).data,i.value.priorities=(await f.getPriorities()).data,y.value=(await H.getAuthedUser()).data}catch(a){console.log(a)}finally{j.value=!1}}),(a,s)=>(c(),n("div",R,[_(L,null,{default:h(()=>[_(A,null,{default:h(()=>[B("New Ticket")]),_:1}),e("div",W,[e("div",$,[z,e("div",G,v(y.value.name),1)]),e("div",J,[K,b(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.value.selectedCategory=t),onChange:s[1]||(s[1]=(...t)=>a.testeChange&&a.testeChange(...t)),class:"border bg-white flex justify-between w-40 lg:w-full py-1 lg:py-4 lg:px-2.5 rounded-lg border-solid border-black border-opacity-20"},[O,(c(!0),n(k,null,C(r.value.categories,t=>(c(),n("option",{key:t.id,value:t.id},v(t.category_name),9,Q))),128))],544),[[w,r.value.selectedCategory]])]),e("div",X,[Y,b(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.value.selectedPriority=t),onChange:s[3]||(s[3]=(...t)=>a.testeChange&&a.testeChange(...t)),class:"border bg-white flex justify-between w-40 lg:w-full py-1 lg:py-4 lg:px-2.5 rounded-lg border-solid border-black border-opacity-20"},[Z,(c(!0),n(k,null,C(i.value.priorities,t=>(c(),n("option",{key:t.id,value:t.id},v(t.priority_name),9,ee))),128))],544),[[w,i.value.selectedPriority]])])])]),_:1}),e("div",te,[e("span",se,[b(e("input",{type:"text",placeholder:"Title","onUpdate:modelValue":s[4]||(s[4]=t=>x.value=t),class:"bg-grey text-black text-opacity-60 text-xl w-full pt-2 pb-1.5 px-3 rounded-xl border border-solid border-black border-opacity-20"},null,512),[[m,x.value]])]),ae,e("div",oe,[le,e("form",re,[e("div",ie,[e("div",de,[b(e("textarea",{id:"comment",rows:"4","onUpdate:modelValue":s[5]||(s[5]=t=>g.value=t),class:"w-full px-0 text-base text-gray-900 bg-grey focus:outline-none focus-visible:outline-none",placeholder:"Write here your problem as detailed as possible...",required:""},`

                            `,512),[[m,g.value]])]),e("div",ne,[ce,e("button",{type:"submit",onClick:V(T,["prevent"]),disabled:p.value,class:"inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-purple rounded-lg hoverBlue"}," Create Ticket ",8,ue)])])])])])]))}},fe=S(pe,[["__scopeId","data-v-e16a22e7"]]);export{fe as default};
