import{r as n,o as _,e as x,j as C,w as V,l as o,g as d,p as T,Z as L,D as F,_ as k,d as B,f as I}from"./index-Gnznze0_.js";import{A as $,_ as c,a as h,F as S}from"./DataPicker-cS3EyL_t.js";import{F as q,I as r}from"./Input-OgLWhDcj.js";import{B as D}from"./ButtonSubmit-Cp79qUBk.js";import{U as i}from"./UserService-Rk__Pi1E.js";const N={class:"flex flex-col w-full my-5"},A={class:"flex flex-col gap-5 md:flex-row"},E={class:"flex flex-col gap-5 mt-5 md:flex-row"},P={class:"flex flex-col gap-5 mt-5 md:flex-row"},j={class:"flex flex-col gap-5 mt-5 md:flex-row"},G={class:"flex flex-col md:flex-row md:items-end gap-3 lg:w-2/4"},M={class:"flex flex-row mb-2 gap-2"},R=d("label",{class:"text-purple text-sm"},"Set NIF as password",-1),Z={class:"flex flex-col gap-5 mt-5 md:flex-row"},z={class:"flex flex-col gap-5 mt-5 md:flex-row md:mt-5"},H={__name:"CreateUserForm",setup(b){const m=n([]),p=n([]),v=n([]),u=n(!1),t=n({name:"",email:"",password:"",internalcode:"",role:""}),a=n({user_id:"",gender:"",avatar:"",class:"",nif:"",phone_number:"",birthday_date:"",address:"",city:"",district:"",postal_code:"",country:""});_(async()=>{await y()});const y=async()=>{try{m.value=(await i.getRoles()).data,p.value=(await i.getGenders()).data,v.value=(await i.getCountries()).data}catch(s){console.error("Error:",s.response)}},w=s=>{a.value.avatar=s},U=()=>{u.value?t.value.password=a.value.nif:t.password=""},g=()=>{console.log(a.value),u.value&&(t.value.password=a.value.nif.toString()),i.createUser(t.value).then(s=>{a.value.user_id=s.data,i.createUserInfo(a.value).then(e=>{console.log(e),F.push({name:"userDetails",params:{userId:a.value.user_id}})}).catch(e=>{console.log("Error: ",e.response)})}).catch(s=>{console.log("Error: ",s.response)})},f=s=>{const e=Object.keys(s)[0];a[e]=s[e]};return(s,e)=>(x(),C(S,{onFormSubmit:g},{AvatarCard:V(()=>[o($,{onAvatar:w})]),Form:V(()=>[o(q,{FormTitle:"Create User"}),d("div",N,[d("div",A,[o(r,{LabelTitle:"Full Name: *",type:"name",required:"",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l)},null,8,["modelValue"]),o(r,{LabelTitle:"Email: *",type:"email",required:"",modelValue:t.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.email=l)},null,8,["modelValue"])]),d("div",E,[o(r,{LabelTitle:"Internal Code: *",type:"text",required:"",modelValue:t.value.internalcode,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.internalcode=l)},null,8,["modelValue"]),o(r,{LabelTitle:"Class:",type:"text",modelValue:a.value.class,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.class=l)},null,8,["modelValue"]),o(r,{LabelTitle:"Password: *",type:"password",required:"",modelValue:t.value.password,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.password=l)},null,8,["modelValue"])]),d("div",P,[o(c,{LabelTitle:"Role:",options:m.value,modelValue:t.value.role,"onUpdate:modelValue":[e[5]||(e[5]=l=>t.value.role=l),f]},null,8,["options","modelValue"]),o(c,{LabelTitle:"Gender:",options:p.value,modelValue:a.value.gender,"onUpdate:modelValue":[e[6]||(e[6]=l=>a.value.gender=l),f]},null,8,["options","modelValue"]),o(h,{LabelTitle:"Birthday Date: *",required:"",modelValue:a.value.birthday_date,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.birthday_date=l)},null,8,["modelValue"])]),d("div",j,[d("div",G,[o(r,{LabelTitle:"NIF: *",type:"number",required:"",modelValue:a.value.nif,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.nif=l)},null,8,["modelValue"]),d("div",M,[R,T(d("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=l=>u.value=l),onChange:U,class:"size-6"},null,544),[[L,u.value]])])]),o(r,{LabelTitle:"Phone Number:",type:"number",modelValue:a.value.phone_number,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.phone_number=l)},null,8,["modelValue"])]),d("div",Z,[o(r,{LabelTitle:"Address:",type:"address",modelValue:a.value.address,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.address=l)},null,8,["modelValue"]),o(r,{LabelTitle:"Zip Code:",type:"text",modelValue:a.value.postal_code,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.postal_code=l)},null,8,["modelValue"])]),d("div",z,[o(r,{LabelTitle:"State/Province:",type:"text",modelValue:a.value.district,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.district=l)},null,8,["modelValue"]),o(r,{LabelTitle:"City:",type:"text",modelValue:a.value.city,"onUpdate:modelValue":e[14]||(e[14]=l=>a.value.city=l)},null,8,["modelValue"]),o(c,{LabelTitle:"Country:",options:v.value,modelValue:a.value.country,"onUpdate:modelValue":[e[15]||(e[15]=l=>a.value.country=l),f]},null,8,["options","modelValue"])])]),o(D,{textButton:"Create User",type:"submit"})]),_:1}))}},O={components:{CreateUserForm:H}},J={class:"flex flex-col w-full xl:items-center"};function K(b,m,p,v,u,t){const a=B("CreateUserForm");return x(),I("div",J,[o(a)])}const le=k(O,[["render",K]]);export{le as default};
