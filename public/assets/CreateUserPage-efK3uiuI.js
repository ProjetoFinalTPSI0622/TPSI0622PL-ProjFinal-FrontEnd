import{r as n,o as U,c as x,g as C,w as V,j as o,e as r,n as T,G as F,s as L,_ as q,b as h,d as k}from"./index-Wf_wPvl6.js";import{F as B}from"./FormShell-SBNL4TOp.js";import{A as I,_ as f,a as $}from"./DataPicker-X0WrNYVz.js";import{F as S,I as d,B as N}from"./ButtonSubmit-k6eKklm4.js";import{U as u}from"./UserService-XJjYQyDy.js";const A={class:"flex flex-col w-full my-5"},D={class:"flex flex-col gap-5 md:flex-row"},E={class:"flex flex-col gap-5 mt-5 md:flex-row"},P={class:"flex flex-col gap-5 mt-5 md:flex-row"},G={class:"flex flex-col gap-5 mt-5 md:flex-row"},j={class:"flex flex-col md:flex-row md:items-end gap-3 lg:w-2/4"},M={class:"flex flex-row mb-2 gap-2"},R=r("label",{class:"text-purple text-sm"},"Set NIF as password",-1),z={class:"flex flex-col gap-5 mt-5 md:flex-row"},H={class:"flex flex-col gap-5 mt-5 md:flex-row md:mt-5"},O={__name:"CreateUserForm",setup(b){const m=n([]),p=n([]),v=n([]),i=n(!1),t=n({name:"",email:"",password:"",internalcode:"",role:""}),a=n({user_id:"",gender:"",avatar:"",nif:"",phone_number:"",birthday_date:"",address:"",city:"",district:"",postal_code:"",country:""});U(async()=>{await y()});const y=async()=>{try{m.value=(await u.getRoles()).data,p.value=(await u.getGenders()).data,v.value=(await u.getCountries()).data}catch(s){console.error("Error:",s.response)}},_=s=>{t.avatar=s},g=()=>{i.value?t.password=a.nif.toString():t.password=""},w=()=>{console.log(a.value),u.createUser(t.value).then(s=>{a.value.user_id=s.data,u.createUserInfo(a.value).then(e=>{console.log(e),L.push({name:"userDetails",params:{userId:a.value.user_id}})}).catch(e=>{console.log("Error: ",e.response)})}).catch(s=>{console.log("Error: ",s.response)})},c=s=>{const e=Object.keys(s)[0];a[e]=s[e]};return(s,e)=>(x(),C(B,{onFormSubmit:w},{AvatarCard:V(()=>[o(I,{onAvatar:_})]),Form:V(()=>[o(S,{FormTitle:"Create User"}),r("div",A,[r("div",D,[o(d,{LabelTitle:"Full Name",type:"name",required:"",modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l)},null,8,["modelValue"]),o(d,{LabelTitle:"Email",type:"email",required:"",modelValue:t.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.email=l)},null,8,["modelValue"])]),r("div",E,[o(d,{LabelTitle:"Internal Code",type:"text",required:"",modelValue:t.value.internalcode,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.internalcode=l)},null,8,["modelValue"]),o(d,{LabelTitle:"Password",type:"password",required:"",modelValue:t.value.password,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.password=l)},null,8,["modelValue"])]),r("div",P,[o(f,{LabelTitle:"Role",options:m.value,modelValue:t.value.role,"onUpdate:modelValue":[e[4]||(e[4]=l=>t.value.role=l),c]},null,8,["options","modelValue"]),o(f,{LabelTitle:"Gender",options:p.value,modelValue:a.value.gender,"onUpdate:modelValue":[e[5]||(e[5]=l=>a.value.gender=l),c]},null,8,["options","modelValue"]),o($,{LabelTitle:"Birthday Date",required:"",modelValue:a.value.birthday_date,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.birthday_date=l)},null,8,["modelValue"])]),r("div",G,[r("div",j,[o(d,{LabelTitle:"NIF",type:"number",required:"",modelValue:a.value.nif,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.nif=l)},null,8,["modelValue"]),r("div",M,[R,T(r("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=l=>i.value=l),onChange:g,class:"size-6"},null,544),[[F,i.value]])])]),o(d,{LabelTitle:"Phone Number",type:"number",required:"",modelValue:a.value.phone_number,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.phone_number=l)},null,8,["modelValue"])]),r("div",z,[o(d,{LabelTitle:"Address",type:"address",required:"",modelValue:a.value.address,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.address=l)},null,8,["modelValue"]),o(d,{LabelTitle:"Zip Code",type:"number",required:"",modelValue:a.value.postal_code,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.postal_code=l)},null,8,["modelValue"])]),r("div",H,[o(d,{LabelTitle:"State/Province",type:"text",required:"",modelValue:a.value.district,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.district=l)},null,8,["modelValue"]),o(d,{LabelTitle:"City",type:"text",required:"",modelValue:a.value.city,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.city=l)},null,8,["modelValue"]),o(f,{LabelTitle:"Country",options:v.value,modelValue:a.value.country,"onUpdate:modelValue":[e[14]||(e[14]=l=>a.value.country=l),c]},null,8,["options","modelValue"])])]),o(N,{textButton:"Create User"})]),_:1}))}},Z={components:{CreateUserForm:O}},J={class:"flex flex-col w-full xl:items-center"};function K(b,m,p,v,i,t){const a=h("CreateUserForm");return x(),k("div",J,[o(a)])}const le=q(Z,[["render",K]]);export{le as default};
